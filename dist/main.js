!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t=(e,t,r)=>{const n=e.querySelector(`#${t.id}-error`);n.textContent="",t.classList.remove(r.inputErrorClass),n.classList.remove(r.errorClass)},r=(e,t,r)=>{(e=>e.some(e=>!e.validity.valid))(e)?a(t,r):s(t,r)},n=(e,r,n)=>{r.forEach(r=>{t(e,r,n)})},a=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},s=(e,t)=>{e.disabled=!1,e.classList.remove(t.inactiveButtonClass)};function o(e,t,r="Save",n="Saving..."){t.textContent=e?n:r}function i(e,t,r="Saving..."){t.preventDefault();const n=t.submitter,a=n.textContent;o(!0,n,a,r),e().then(()=>{t.target.reset()}).catch(e=>{console.error(e)}).finally(()=>{o(!1,n,a)})}const c=document.querySelector(".profile__edit-btn"),l=document.querySelector("#edit-profile-modal"),d=l.querySelector(".modal__form"),u=l.querySelector("#profile-name-input"),m=l.querySelector("#profile-description-input"),_=document.querySelector("#new-post-modal form"),h=document.querySelector("#caption-image-input"),v=document.querySelector("#card-image-input"),p=document.querySelector(".profile__add-btn"),f=document.querySelector("#new-post-modal"),y=document.querySelector(".profile__name"),S=document.querySelector(".profile__description"),b=document.querySelector("#delete-modal"),q=b.querySelector(".modal__form"),L=document.querySelector("#preview-modal"),g=L.querySelector(".modal__image"),E=L.querySelector(".modal__caption"),k=document.querySelector(".profile__avatar-btn"),C=document.querySelector("#avatar-modal"),U=C.querySelector("#edit-avatar-form"),$=C.querySelector("#avatar-url-input"),x=document.querySelector(".profile__avatar"),A=document.querySelector("#card-template").content.querySelector(".card"),w=document.querySelector(".cards__list"),N=document.querySelector(".page"),P=document.querySelectorAll(".modal__close-btn");let T;function I(t,r="prepend"){const n=function(t){const r=A.cloneNode(!0),n=r.querySelector(".card__title"),a=r.querySelector(".card__image");a.src=t.link,a.alt=t.name,n.textContent=t.name;const s=r.querySelector(".card__like-btn"),o=r.querySelector(".card__delete-btn");return t.isLiked?s.classList.add("card__like-btn_active"):s.classList.remove("card__like-btn_active"),s.addEventListener("click",e=>function(e,t){const r=e.target.classList.contains("card__like-btn_active");B.handleLikeStatus(t,r).then(t=>{const r=t.isLiked;e.target.classList.toggle("card__like-btn_active",r)}).catch(console.error)}(e,t._id)),o.addEventListener("click",()=>{const n=q.querySelector(".modal__submit-btn");n.classList.remove(e.inactiveButtonClass),n.disabled=!1,O(b),q.onsubmit=e=>{i(()=>B.deleteNewCard({_id:t._id}).then(()=>{r.remove(),j(b)}),e,"Deleting...")}}),a.addEventListener("click",()=>{g.src=t.link,E.textContent=t.name,g.alt=t.name,O(L)}),r}(t);w[r](n)}const B=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t,this._checkResponse=this._checkResponse.bind(this)}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_request(e,t){return fetch(e,t).then(this._checkResponse)}getUserInfo(){return this._request(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers})}getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{headers:this._headers})}updateAvatar({avatar:e}){return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}editUserInfo({name:e,about:t}){return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})})}addNewCard({name:e,link:t}){return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})})}deleteNewCard({_id:e}){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}deleteNewCard({_id:e}){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}handleLikeStatus(e,t){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"2c30c1a4-ec09-478f-8ddc-c9c3829032c5","Content-Type":"application/json"}});function D(e){e.target.classList.contains("modal")&&j(e.target)}function R(e){if("Escape"===e.key){const e=document.querySelector(".modal_is-opened");e&&j(e)}}function O(e){e&&(e.classList.add("modal_is-opened"),N?.classList.add("page_modal-opened"),e.addEventListener("click",D),document.addEventListener("keydown",R))}function j(e){e&&(e.classList.remove("modal_is-opened"),N?.classList.remove("page_modal-opened"),e.removeEventListener("click",D),document.removeEventListener("keydown",R))}var J;B.getAppInfo().then(([e,t])=>{T=e,y.textContent=e.name,S.textContent=e.about,x.src=e.avatar,t.forEach(function(e){I(e,"append")})}).catch(console.error),c.addEventListener("click",function(){u.value=y.textContent,m.value=S.textContent,n(d,[u,m],e),O(l)}),p.addEventListener("click",function(){_.reset(),n(_,[h,v],e),O(f)}),k.addEventListener("click",function(){O(C)}),P.forEach(e=>{const t=e.closest(".modal");e.addEventListener("click",()=>j(t))}),_.addEventListener("submit",function(e){i(function(){return B.addNewCard({name:h.value,link:v.value}).then(e=>{I(e),j(f)})},e)}),d.addEventListener("submit",function(e){i(function(){return B.editUserInfo({name:u.value,about:m.value}).then(e=>{y.textContent=e.name,S.textContent=e.about,j(l)})},e)}),U.addEventListener("submit",function(e){i(function(){return B.updateAvatar({avatar:$.value}).then(e=>{x.src=e.avatar,j(C)})},e)}),J=e,document.querySelectorAll(J.formSelector).forEach(e=>{((e,n)=>{const s=Array.from(e.querySelectorAll(n.inputSelector)),o=e.querySelector(n.submitButtonSelector);r(s,o,n),e.addEventListener("reset",()=>{a(o,n)}),s.forEach(a=>{a.addEventListener("input",function(){((e,r,n)=>{const a=r.getAttribute("maxlength");if(!r.validity.valid||a&&r.value.length>=a){const t=(e=>{const t=e.getAttribute("maxlength");return t&&e.value.length>=t?`Maximum limit of ${t} characters reached`:"url"!==e.type||e.validity.valid?e.validity.tooShort?`Please enter at least ${e.getAttribute("minlength")} characters`:e.validity.valueMissing?"Please fill out this field":e.validationMessage:"Please enter a url"})(r);((e,t,r,n)=>{const a=e.querySelector(`#${t.id}-error`);a.textContent=r,t.classList.add(n.inputErrorClass),a.classList.add(n.errorClass)})(e,r,t,n)}else t(e,r,n)})(e,a,n),r(s,o,n)})})})(e,J)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxvQkFBb0JBLHVCQUdSLFFBQWpCdEosRUFBUTBKLE1BQW1CMUosRUFBUWEsU0FBU0MsTUFJNUNkLEVBQVFhLFNBQVM4SSxTQUVaLHlCQURXM0osRUFBUXVKLGFBQWEsMEJBSXJDdkosRUFBUWEsU0FBUytJLGFBQ1osNkJBR0Y1SixFQUFRNkosa0JBWk4sc0JBc0JjQyxDQUFnQjlKLEdBNUNYK0osRUFBQ2hLLEVBQVFDLEVBQVNnSyxFQUFVL0osS0FDeEQsTUFBTUMsRUFBYUgsRUFBT0ksY0FBYyxJQUFJSCxFQUFRSSxZQUNwREYsRUFBV0csWUFBYzJKLEVBQ3pCaEssRUFBUU0sVUFBVWUsSUFBSXBCLEVBQU9MLGlCQUM3Qk0sRUFBV0ksVUFBVWUsSUFBSXBCLEVBQU9KLGFBeUM5QmtLLENBQWVoSyxFQUFRQyxFQUFTeUosRUFBY3hKLEVBQ2hELE1BQ0VILEVBQWVDLEVBQVFDLEVBQVNDLElBOEM5Qm9KLENBQW1CdEosRUFBUXFKLEVBQWNuSixHQUN6Q08sRUFBa0JDLEVBQVcwSSxFQUFlbEosRUFDOUMsTUFPQStJLENBQWtCakosRUFBUUUsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL0FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnRuXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idG5fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmV4cG9ydCBjb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWwsIGVycm9yTXNnLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XG4gIGlucHV0RWwuY2xhc3NMaXN0LmFkZChjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgZXJyb3JNc2dFbC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5lcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGhpZGVJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGVycm9yTXNnRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgZXJyb3JNc2dFbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5lcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGdldEVycm9yTWVzc2FnZSA9IChpbnB1dEVsKSA9PiB7XG4gIGNvbnN0IG1heExlbmd0aCA9IGlucHV0RWwuZ2V0QXR0cmlidXRlKFwibWF4bGVuZ3RoXCIpO1xuXG4gIGlmIChtYXhMZW5ndGggJiYgaW5wdXRFbC52YWx1ZS5sZW5ndGggPj0gbWF4TGVuZ3RoKSB7XG4gICAgcmV0dXJuIGBNYXhpbXVtIGxpbWl0IG9mICR7bWF4TGVuZ3RofSBjaGFyYWN0ZXJzIHJlYWNoZWRgO1xuICB9XG5cbiAgaWYgKGlucHV0RWwudHlwZSA9PT0gXCJ1cmxcIiAmJiAhaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgIHJldHVybiBcIlBsZWFzZSBlbnRlciBhIHVybFwiO1xuICB9XG5cbiAgaWYgKGlucHV0RWwudmFsaWRpdHkudG9vU2hvcnQpIHtcbiAgICBjb25zdCBtaW5MZW5ndGggPSBpbnB1dEVsLmdldEF0dHJpYnV0ZShcIm1pbmxlbmd0aFwiKTtcbiAgICByZXR1cm4gYFBsZWFzZSBlbnRlciBhdCBsZWFzdCAke21pbkxlbmd0aH0gY2hhcmFjdGVyc2A7XG4gIH1cblxuICBpZiAoaW5wdXRFbC52YWxpZGl0eS52YWx1ZU1pc3NpbmcpIHtcbiAgICByZXR1cm4gXCJQbGVhc2UgZmlsbCBvdXQgdGhpcyBmaWVsZFwiO1xuICB9XG5cbiAgcmV0dXJuIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XG59O1xuXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpID0+IHtcbiAgY29uc3QgbWF4TGVuZ3RoID0gaW5wdXRFbC5nZXRBdHRyaWJ1dGUoXCJtYXhsZW5ndGhcIik7XG5cbiAgaWYgKFxuICAgICFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkIHx8XG4gICAgKG1heExlbmd0aCAmJiBpbnB1dEVsLnZhbHVlLmxlbmd0aCA+PSBtYXhMZW5ndGgpXG4gICkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGdldEVycm9yTWVzc2FnZShpbnB1dEVsKTtcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGVycm9yTWVzc2FnZSwgY29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGNvbmZpZyk7XG4gIH1cbn07XG5cbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dCkgPT4ge1xuICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XG4gIH0pO1xufTtcblxuY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbCwgY29uZmlnKSA9PiB7XG4gIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWwsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgZW5hYmxlQnV0dG9uKGJ1dHRvbkVsLCBjb25maWcpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmVzZXRWYWxpZGF0aW9uID0gKGZvcm1FbCwgaW5wdXRMaXN0LCBjb25maWcpID0+IHtcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsLCBpbnB1dCwgY29uZmlnKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGlzYWJsZUJ1dHRvbiA9IChidXR0b25FbCwgY29uZmlnKSA9PiB7XG4gIGJ1dHRvbkVsLmRpc2FibGVkID0gdHJ1ZTtcbiAgYnV0dG9uRWwuY2xhc3NMaXN0LmFkZChjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG59O1xuXG5jb25zdCBlbmFibGVCdXR0b24gPSAoYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBidXR0b25FbC5kaXNhYmxlZCA9IGZhbHNlO1xuICBidXR0b25FbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbn07XG5cbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuXG4gIGZvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgKCkgPT4ge1xuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgfSk7XG5cbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3Rvcik7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbCwgY29uZmlnKTtcbiAgfSk7XG59O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckxvYWRpbmcoXG4gIGlzTG9hZGluZyxcbiAgYnV0dG9uLFxuICBidXR0b25UZXh0ID0gXCJTYXZlXCIsXG4gIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIlxuKSB7XG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcbiAgfSBlbHNlIHtcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBidXR0b25UZXh0O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVTdWJtaXQocmVxdWVzdCwgZXZ0LCBsb2FkaW5nVGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGV2dC5zdWJtaXR0ZXI7XG4gIGNvbnN0IGluaXRpYWxUZXh0ID0gc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuXG4gIHJlbmRlckxvYWRpbmcodHJ1ZSwgc3VibWl0QnV0dG9uLCBpbml0aWFsVGV4dCwgbG9hZGluZ1RleHQpO1xuXG4gIHJlcXVlc3QoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGV2dC50YXJnZXQucmVzZXQoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICByZW5kZXJMb2FkaW5nKGZhbHNlLCBzdWJtaXRCdXR0b24sIGluaXRpYWxUZXh0KTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmltcG9ydCB7XG4gIGVuYWJsZVZhbGlkYXRpb24sXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIHJlc2V0VmFsaWRhdGlvbixcbiAgZGlzYWJsZUJ1dHRvbixcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xuXG5pbXBvcnQgeyBoYW5kbGVTdWJtaXQgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcblxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XG5cbmNvbnN0IGVkaXRQcm9maWxlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1tb2RhbFwiKTtcbmNvbnN0IGVkaXRQcm9maWxlRm9ybSA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGVkaXRQcm9maWxlTmFtZUlucHV0ID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLW5hbWUtaW5wdXRcIlxuKTtcbmNvbnN0IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuXG5jb25zdCBhZGRDYXJkRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1wb3N0LW1vZGFsIGZvcm1cIik7XG5jb25zdCBjYXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcHRpb24taW1hZ2UtaW5wdXRcIik7XG5jb25zdCBsaW5rSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtaW1hZ2UtaW5wdXRcIik7XG5cbmNvbnN0IG5ld1Bvc3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idG5cIik7XG5jb25zdCBuZXdQb3N0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1wb3N0LW1vZGFsXCIpO1xuXG5jb25zdCBwcm9maWxlTmFtZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuXG5jb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLW1vZGFsXCIpO1xuY29uc3QgZGVsZXRlRm9ybSA9IGRlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5cbmNvbnN0IHByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJldmlldy1tb2RhbFwiKTtcbmNvbnN0IHByZXZpZXdJbWFnZUVsID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuY29uc3QgcHJldmlld1RpdGxlRWwgPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcblxuY29uc3QgYXZhdGFyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItYnRuXCIpO1xuY29uc3QgYXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1tb2RhbFwiKTtcbmNvbnN0IGF2YXRhckZvcm0gPSBhdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtYXZhdGFyLWZvcm1cIik7XG5jb25zdCBhdmF0YXJVcmxJbnB1dCA9IGF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLXVybC1pbnB1dFwiKTtcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcblxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnRcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKVxuICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIik7XG5jb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xuY29uc3QgcGFnZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBhZ2VcIik7XG5cbmNvbnN0IGNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcblxubGV0IGN1cnJlbnRVc2VyO1xuXG5mdW5jdGlvbiBoYW5kbGVMaWtlKGV2dCwgX2lkKSB7XG4gIGNvbnN0IGlzTGlrZWQgPSBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2xpa2UtYnRuX2FjdGl2ZVwiKTtcbiAgYXBpXG4gICAgLmhhbmRsZUxpa2VTdGF0dXMoX2lkLCBpc0xpa2VkKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBpc05vd0xpa2VkID0gZGF0YS5pc0xpa2VkO1xuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idG5fYWN0aXZlXCIsIGlzTm93TGlrZWQpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xufVxuXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgY29uc3QgY2FyZFRpdGxlRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICBjb25zdCBjYXJkSW1hZ2VFbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG5cbiAgY2FyZEltYWdlRWwuc3JjID0gZGF0YS5saW5rO1xuICBjYXJkSW1hZ2VFbC5hbHQgPSBkYXRhLm5hbWU7XG4gIGNhcmRUaXRsZUVsLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuXG4gIGNvbnN0IGxpa2VCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnRuXCIpO1xuICBjb25zdCBkZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idG5cIik7XG5cbiAgaWYgKGRhdGEuaXNMaWtlZCkge1xuICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnRuX2FjdGl2ZVwiKTtcbiAgfSBlbHNlIHtcbiAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ0bl9hY3RpdmVcIik7XG4gIH1cblxuICBsaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiBoYW5kbGVMaWtlKGV2dCwgZGF0YS5faWQpKTtcblxuICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjb25zdCBzdWJtaXRCdG4gPSBkZWxldGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIik7XG4gICAgc3VibWl0QnRuLmNsYXNzTGlzdC5yZW1vdmUodmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICBzdWJtaXRCdG4uZGlzYWJsZWQgPSBmYWxzZTtcblxuICAgIG9wZW5Nb2RhbChkZWxldGVNb2RhbCk7XG5cbiAgICBkZWxldGVGb3JtLm9uc3VibWl0ID0gKGV2dCkgPT4ge1xuICAgICAgY29uc3QgbWFrZVJlcXVlc3QgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhcGkuZGVsZXRlTmV3Q2FyZCh7IF9pZDogZGF0YS5faWQgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgZXZ0LCBcIkRlbGV0aW5nLi4uXCIpO1xuICAgIH07XG4gIH0pO1xuXG4gIGNhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcHJldmlld0ltYWdlRWwuc3JjID0gZGF0YS5saW5rO1xuICAgIHByZXZpZXdUaXRsZUVsLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHByZXZpZXdJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcbiAgICBvcGVuTW9kYWwocHJldmlld01vZGFsKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiByZW5kZXJDYXJkKGl0ZW0sIG1ldGhvZCA9IFwicHJlcGVuZFwiKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoaXRlbSk7XG4gIGNhcmRzTGlzdFttZXRob2RdKGNhcmRFbGVtZW50KTtcbn1cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiMmMzMGMxYTQtZWMwOS00NzhmLThkZGMtYzljMzgyOTAzMmM1XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuYXBpXG4gIC5nZXRBcHBJbmZvKClcbiAgLnRoZW4oKFt1c2VySW5mbywgY2FyZHNdKSA9PiB7XG4gICAgY3VycmVudFVzZXIgPSB1c2VySW5mbztcblxuICAgIHByb2ZpbGVOYW1lRWwudGV4dENvbnRlbnQgPSB1c2VySW5mby5uYW1lO1xuICAgIHByb2ZpbGVEZXNjcmlwdGlvbkVsLnRleHRDb250ZW50ID0gdXNlckluZm8uYWJvdXQ7XG4gICAgcHJvZmlsZUF2YXRhci5zcmMgPSB1c2VySW5mby5hdmF0YXI7XG5cbiAgICBjYXJkcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZW5kZXJDYXJkKGl0ZW0sIFwiYXBwZW5kXCIpO1xuICAgIH0pO1xuICB9KVxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cbmZ1bmN0aW9uIGhhbmRsZU1vZGFsQ2xpY2soZXZlbnQpIHtcbiAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSkge1xuICAgIGNsb3NlTW9kYWwoZXZlbnQudGFyZ2V0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVFc2NhcGVLZXkoZXZlbnQpIHtcbiAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGNvbnN0IG9wZW5lZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9pcy1vcGVuZWRcIik7XG4gICAgaWYgKG9wZW5lZE1vZGFsKSB7XG4gICAgICBjbG9zZU1vZGFsKG9wZW5lZE1vZGFsKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XG4gIGlmICghbW9kYWwpIHJldHVybjtcblxuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfaXMtb3BlbmVkXCIpO1xuXG4gIHBhZ2VFbGVtZW50Py5jbGFzc0xpc3QuYWRkKFwicGFnZV9tb2RhbC1vcGVuZWRcIik7XG5cbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU1vZGFsQ2xpY2spO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGVLZXkpO1xufVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gIGlmICghbW9kYWwpIHJldHVybjtcblxuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfaXMtb3BlbmVkXCIpO1xuICBwYWdlRWxlbWVudD8uY2xhc3NMaXN0LnJlbW92ZShcInBhZ2VfbW9kYWwtb3BlbmVkXCIpO1xuXG4gIG1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVNb2RhbENsaWNrKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlS2V5KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRWRpdFByb2ZpbGVTdWJtaXQoZXZ0KSB7XG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiBhcGlcbiAgICAgIC5lZGl0VXNlckluZm8oe1xuICAgICAgICBuYW1lOiBlZGl0UHJvZmlsZU5hbWVJbnB1dC52YWx1ZSxcbiAgICAgICAgYWJvdXQ6IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSxcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBwcm9maWxlTmFtZUVsLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgICAgICBwcm9maWxlRGVzY3JpcHRpb25FbC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgICAgIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XG4gICAgICB9KTtcbiAgfVxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIGV2dCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Ym1pdChldnQpIHtcbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIGFwaS51cGRhdGVBdmF0YXIoeyBhdmF0YXI6IGF2YXRhclVybElucHV0LnZhbHVlIH0pLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHByb2ZpbGVBdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XG4gICAgICBjbG9zZU1vZGFsKGF2YXRhck1vZGFsKTtcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIGV2dCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoZXZ0KSB7XG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiBhcGlcbiAgICAgIC5hZGROZXdDYXJkKHtcbiAgICAgICAgbmFtZTogY2FwdGlvbklucHV0LnZhbHVlLFxuICAgICAgICBsaW5rOiBsaW5rSW5wdXQudmFsdWUsXG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcmVuZGVyQ2FyZChkYXRhKTtcbiAgICAgICAgY2xvc2VNb2RhbChuZXdQb3N0TW9kYWwpO1xuICAgICAgfSk7XG4gIH1cbiAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBldnQpO1xufVxuXG5lZGl0UHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBlZGl0UHJvZmlsZU5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVOYW1lRWwudGV4dENvbnRlbnQ7XG4gIGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVEZXNjcmlwdGlvbkVsLnRleHRDb250ZW50O1xuICByZXNldFZhbGlkYXRpb24oXG4gICAgZWRpdFByb2ZpbGVGb3JtLFxuICAgIFtlZGl0UHJvZmlsZU5hbWVJbnB1dCwgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0XSxcbiAgICB2YWxpZGF0aW9uQ29uZmlnXG4gICk7XG4gIG9wZW5Nb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcbn0pO1xuXG5uZXdQb3N0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGFkZENhcmRGb3JtRWxlbWVudC5yZXNldCgpO1xuICByZXNldFZhbGlkYXRpb24oXG4gICAgYWRkQ2FyZEZvcm1FbGVtZW50LFxuICAgIFtjYXB0aW9uSW5wdXQsIGxpbmtJbnB1dF0sXG4gICAgdmFsaWRhdGlvbkNvbmZpZ1xuICApO1xuICBvcGVuTW9kYWwobmV3UG9zdE1vZGFsKTtcbn0pO1xuXG5hdmF0YXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgb3Blbk1vZGFsKGF2YXRhck1vZGFsKTtcbn0pO1xuXG5jbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gIGNvbnN0IG1vZGFsID0gYnV0dG9uLmNsb3Nlc3QoXCIubW9kYWxcIik7XG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VNb2RhbChtb2RhbCkpO1xufSk7XG5cbmFkZENhcmRGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xuXG5lZGl0UHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVFZGl0UHJvZmlsZVN1Ym1pdCk7XG5cbmF2YXRhckZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBdmF0YXJTdWJtaXQpO1xuXG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpO1xuIiwiY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgICB0aGlzLl9jaGVja1Jlc3BvbnNlID0gdGhpcy5fY2hlY2tSZXNwb25zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIF9yZXF1ZXN0KHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBnZXRBcHBJbmZvKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldEluaXRpYWxDYXJkcygpXSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlQXZhdGFyKHsgYXZhdGFyIH0pIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgZWRpdFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgYWRkTmV3Q2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZU5ld0NhcmQoeyBfaWQgfSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7X2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVOZXdDYXJkKHsgX2lkIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtfaWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgaGFuZGxlTGlrZVN0YXR1cyhfaWQsIGlzTGlrZWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke19pZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBpO1xuIl0sIm5hbWVzIjpbInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImhpZGVJbnB1dEVycm9yIiwiZm9ybUVsIiwiaW5wdXRFbCIsImNvbmZpZyIsImVycm9yTXNnRWwiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRMaXN0IiwiYnV0dG9uRWwiLCJzb21lIiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZUJ1dHRvbiIsImVuYWJsZUJ1dHRvbiIsInJlc2V0VmFsaWRhdGlvbiIsImZvckVhY2giLCJkaXNhYmxlZCIsImFkZCIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJidXR0b24iLCJidXR0b25UZXh0IiwibG9hZGluZ1RleHQiLCJoYW5kbGVTdWJtaXQiLCJyZXF1ZXN0IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJzdWJtaXRCdXR0b24iLCJzdWJtaXR0ZXIiLCJpbml0aWFsVGV4dCIsInRoZW4iLCJ0YXJnZXQiLCJyZXNldCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZmluYWxseSIsImVkaXRQcm9maWxlQnRuIiwiZG9jdW1lbnQiLCJlZGl0UHJvZmlsZU1vZGFsIiwiZWRpdFByb2ZpbGVGb3JtIiwiZWRpdFByb2ZpbGVOYW1lSW5wdXQiLCJlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJhZGRDYXJkRm9ybUVsZW1lbnQiLCJjYXB0aW9uSW5wdXQiLCJsaW5rSW5wdXQiLCJuZXdQb3N0QnRuIiwibmV3UG9zdE1vZGFsIiwicHJvZmlsZU5hbWVFbCIsInByb2ZpbGVEZXNjcmlwdGlvbkVsIiwiZGVsZXRlTW9kYWwiLCJkZWxldGVGb3JtIiwicHJldmlld01vZGFsIiwicHJldmlld0ltYWdlRWwiLCJwcmV2aWV3VGl0bGVFbCIsImF2YXRhckJ0biIsImF2YXRhck1vZGFsIiwiYXZhdGFyRm9ybSIsImF2YXRhclVybElucHV0IiwicHJvZmlsZUF2YXRhciIsImNhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjYXJkc0xpc3QiLCJwYWdlRWxlbWVudCIsImNsb3NlQnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjdXJyZW50VXNlciIsInJlbmRlckNhcmQiLCJpdGVtIiwibWV0aG9kIiwiY2FyZEVsZW1lbnQiLCJkYXRhIiwiY2xvbmVOb2RlIiwiY2FyZFRpdGxlRWwiLCJjYXJkSW1hZ2VFbCIsInNyYyIsImxpbmsiLCJhbHQiLCJuYW1lIiwibGlrZUJ1dHRvbiIsImRlbGV0ZUJ1dHRvbiIsImlzTGlrZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2lkIiwiY29udGFpbnMiLCJhcGkiLCJoYW5kbGVMaWtlU3RhdHVzIiwiaXNOb3dMaWtlZCIsInRvZ2dsZSIsImhhbmRsZUxpa2UiLCJzdWJtaXRCdG4iLCJvcGVuTW9kYWwiLCJvbnN1Ym1pdCIsIm1ha2VSZXF1ZXN0IiwiZGVsZXRlTmV3Q2FyZCIsImNsb3NlTW9kYWwiLCJnZXRDYXJkRWxlbWVudCIsImNvbnN0cnVjdG9yIiwiYmFzZVVybCIsImhlYWRlcnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9jaGVja1Jlc3BvbnNlIiwiYmluZCIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJfcmVxdWVzdCIsInVybCIsIm9wdGlvbnMiLCJmZXRjaCIsImdldFVzZXJJbmZvIiwiZ2V0QXBwSW5mbyIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsInVwZGF0ZUF2YXRhciIsImF2YXRhciIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZWRpdFVzZXJJbmZvIiwiYWJvdXQiLCJhZGROZXdDYXJkIiwiYXV0aG9yaXphdGlvbiIsImhhbmRsZU1vZGFsQ2xpY2siLCJldmVudCIsImhhbmRsZUVzY2FwZUtleSIsImtleSIsIm9wZW5lZE1vZGFsIiwibW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXNlckluZm8iLCJjYXJkcyIsInZhbHVlIiwiY2xvc2VzdCIsInNldEV2ZW50TGlzdGVuZXJzIiwiQXJyYXkiLCJmcm9tIiwiYnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImNoZWNrSW5wdXRWYWxpZGl0eSIsIm1heExlbmd0aCIsImdldEF0dHJpYnV0ZSIsImxlbmd0aCIsImVycm9yTWVzc2FnZSIsInR5cGUiLCJ0b29TaG9ydCIsInZhbHVlTWlzc2luZyIsInZhbGlkYXRpb25NZXNzYWdlIiwiZ2V0RXJyb3JNZXNzYWdlIiwic2hvd0lucHV0RXJyb3IiLCJlcnJvck1zZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9